# Reglas de Redirección y Proxy para Netlify

# Esta primera regla es la más importante.
# Reenvía cualquier petición que la aplicación haga a "/api/..." 
# hacia tu backend en Google Cloud Run.
[[redirects]]
  from = "/api/*"
  to = "https://applectoescritura-backend-702516870563.europe-west1.run.app/" # ¡IMPORTANTE: Reemplaza esta URL!
  status = 200 # El status 200 lo convierte en un proxy (reenvío invisible).
  force = true # Asegura que esta regla siempre se aplique.

# Esta segunda regla es una buena práctica para aplicaciones de una sola página (SPA) como React.
# Se asegura de que si un usuario refresca la página en una ruta como "/asistente-ia/resultados",
# no reciba un error 404, sino que se le sirva la aplicación principal para que React maneje la ruta.
[[redirects]]
  from = "/asistente-ia/*"
  to = "/asistente-ia/index.html"
  status = 200
